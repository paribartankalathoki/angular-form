<div class="container p-4">
    <div class="row">
        <div class="col-sm-12">
            <h6 class="title">Reactive Form With Nested Objects</h6>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-sm-12">
            <form (ngSubmit)="onSubmit()" [formGroup]="form" novalidate class="form-horizontal">
                <div class="row basic_info">
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>Full Name</label>
                            <input type="text" name="fullName" formControlName="fullName" class="form-control" placeholder="Your Name"id="fullName" />
                        </div>
                    </div>
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>E-mail Address</label>
                            <input type="text" name="email" formControlName="email" class="form-control" placeholder="Your Email"id="email" />
                        </div>
                    </div>
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>Contact Number</label>
                            <input type="text" name="contactNumber" formControlName="contactNumber" class="form-control" placeholder="Contact Number"id="contactNumber" />
                        </div>
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-sm-12">
                        <h6 class="title">Permanent Address</h6>
                    </div>
                </div>
                <div class="row permanent_addresses" formGroupName="permanentAddress">
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>Address</label>
                            <input type="text" name="address" formControlName="address" class="form-control" placeholder="Address" id="address" />
                        </div>
                    </div>
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>Country</label>
                            <input type="text" name="country" class="form-control" formControlName="country" placeholder="Country"id="country" />
                        </div>
                    </div>
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>State</label>
                            <input type="text" name="state" class="form-control" formControlName="state" placeholder="State"id="state" />
                        </div>
                    </div>
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>City</label>
                            <input type="text" name="city" class="form-control" formControlName="city" placeholder="City" id="city" />
                        </div>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col-sm-12">
                        <h6 class="title">
                            Transaction Details
                        </h6>
                    </div>
                </div>
                <div class="transactions" #transactions *ngFor="let trxn of form.get('transactions')['controls']; let i = index;"
                formArrayName="transactions">
                <div [formGroupName]="i">
                    <div class="row mt-5">
                        <div class="col-sm-4 mb-3">
                            <div class="form-group">
                                <label>Total Annual Income</label>
                                <input type="text" name="totalAnnualIncome" formControlName="totalAnnualIncome" class="form-control" placeholder="Total Annual Income" id="totalAnnualIncome" />
                            </div>
                        </div>
                    </div>
                    <div class="row" formGroupName="accountTransactionForm">
                        <div class="col-sm-4 mb-3">
                            <div class="form-group">
                                <label>Credit Transaction Number</label>
                                <input type="text" name="creditTransactionNumber" formControlName="creditTransactionNumber" class="form-control" placeholder="Credit Transaction Number" id="creditTransactionNumber" />
                            </div>
                        </div>
                        <div class="col-sm-4 mb-3">
                            <div class="form-group">
                                <label>Credit Transaction Value</label>
                                <input type="text" name="creditTransactionValue" class="form-control" formControlName="creditTransactionValue" placeholder="Credit Transaction Value"id="creditTransactionValue" />
                            </div>
                        </div>
                        <div class="col-sm-4 mb-3">
                            <div class="form-group">
                                <label>Debit Transaction Number</label>
                                <input type="text" name="debitTransactionNumber" class="form-control" formControlName="debitTransactionNumber" placeholder="Debit Transaction Number"id="debitTransactionNumber" />
                            </div>
                        </div>
                        <div class="col-sm-4 mb-3">
                            <div class="form-group">
                                <label>Debit Transaction Value</label>
                                <input type="text" name="debitTransactionValue" class="form-control" formControlName="debitTransactionValue" placeholder="Debit Transaction Value" id="debitTransactionValue" />
                            </div>
                        </div>
                        <div class="col-sm-4 mb-3">
                            <div class="form-group">
                                <label>Repayment Track With Current Bank</label>
                                <input type="text" name="repaymentTrackWithCurrentBank" class="form-control" formControlName="repaymentTrackWithCurrentBank" placeholder="Repayment Track With Current Bank" id="repaymentTrackWithCurrentBank" />
                            </div>
                        </div>
                    </div>
                </div>
                </div>

                <div class="row">
                    <div class="col-sm-4 mb-3">
                        <button class="btn btn-primary btn-outline" (click)="addBlankFormField()" type="button">Add more</button>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-sm-12">
                        <h6 class="title">Current Address</h6>
                    </div>
                </div>
                <div class="row current_address" formGroupName="currentAddress">
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>Address</label>
                            <input type="text" name="address" formControlName="address" class="form-control" placeholder="Address" id="address" />
                        </div>
                    </div>
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>Country</label>
                            <input type="text" name="country" class="form-control" formControlName="country" classplaceholder="Country"id="country" />
                        </div>
                    </div>
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>State</label>
                            <input type="text" name="state" class="form-control" formControlName="state" placeholder="State"id="state" />
                        </div>
                    </div>
                    <div class="col-sm-4 mb-3">
                        <div class="form-group">
                            <label>City</label>
                            <input type="text" name="city" class="form-control" formControlName="city" placeholder="City" id="city" />
                        </div>
                    </div>
                </div>
                <div class="row current_address">
                    <div class="col-sm-4 mb-3">
                        <button class="btn btn-primary btn-outline" type="submit">Submit</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>